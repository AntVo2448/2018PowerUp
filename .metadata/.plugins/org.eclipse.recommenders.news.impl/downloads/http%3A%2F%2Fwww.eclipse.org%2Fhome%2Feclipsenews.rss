<!DOCTYPE html>
<html>
<head><base href="https://n46.network-auth.com/splash/" />
  <title> MANSD STUDENT</title>

  <style type="text/css" media="screen">
    html { font-size: 100%;-webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
form { margin: 0; }
label { cursor: pointer; }
button, input {
  -webkit-appearance:none;
  font-size: 100%;
  margin: 0;
  vertical-align: baseline;
  *vertical-align: middle;
  line-height: normal;
  *overflow: visible;
}
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

a, a:visited, a:active {color: #fff; text-decoration: none;}

.hidden { display: none; }

body {
  margin: 0;
  background: #eee;
  color: #555;
  font-size: 14px;
  line-height: 1.4em;
  font-family: georgia, palatino, serif;
}

h1, h2,  h3, p, a {
  font-family: CiscoSans, helvetica, helvetica neue, verdana, tahoma, sans-serif;
}
h1 {
  font-size: 30px;
  font-weight: 100;
  line-height: 35px;
  color: #555;
  margin: 0 0 1em;
}
h2 {
  font-size: 14px;
  font-weight: normal;
}
h3 {
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 1px;
  color: #888;
}
p{
  color: #555;
}

.header {
  border-bottom: 1px solid #ddd;
  padding: 2em 0;
  margin: 0 0 2em 0;
}

.header table { width: 100%; }
#title_cell { vertical-align: bottom; }
#icon_cell { text-align: center; }
#icon_cell img {
  max-width:150px;
  max-height: 100px;
}

#container {
  max-width: 900px;
  min-width: 300px;
  margin: 0 auto;
  background: #fff;
  text-align: center;
}

#content {
  background: #fff;
}

#continue {
  padding: 2em;
}

#blocked {
  padding: 2em;
}

#auth {
  box-sizing: border-box;
  padding: 0 1.5em 2em;
}

#left_col {
  width: 100%;
  margin-bottom: 3em;
  text-align: left;
}

#right_col {
  width: 100%;
  text-align: left;
  margin-top: 4em;
  margin: 0 auto;
}

#account a {
  color: #1795E6;
  margin-right:  1em;
  padding-right: 1em;
  border-right: 1px solid #ccc;
}

#account a:hover {
  color: #0876BD;
}

#account a:last-child {
  border: none;
}

#sign_in {
  background: #777777;
  color: #ffffff;
  border-radius: 2px;
  margin: 2.5em 0 1em;
  padding: 1em;
  box-sizing: border-box;
  width: 100%;
  display: inline-block;
  text-align: center;
}

#sign_in:hover {
  opacity: .85;
}

#blocked_msg {
  text-align: center;
  padding: 15px 0;
}

#claim_ap_msg {
  text-align: center;
  padding: 15px 0;
}

.formarea h3 {
  line-height: 0;
}

.formarea input {
  background: #eee;
  border: 1px solid #ddd;
  box-sizing: border-box;
  border-radius: 2px;
  padding: .7em;
  width: 100%;
}

#email_field {
  margin-bottom: 1.5em;
}

.button {
  color: #ffffff;
  background: #777777;
  padding: 1em 2em;
  -moz-border-radius: 3px;
  border-radius: 3px;
  display: inline-block;
  margin: 1em 0;
}

.button:hover {
  opacity: .85;
}

#forgot_password, .form_links:not(.hidden) {
  display: inline;
}

#signin_form .form_links {
  float: right;
}

#forgot_password a,
.form_links a {
  font-size:  12px;
  color: #1795E6;
}

#forgot_password a:hover,
.form_links a:hover {
  color: #0876BD;
}

#create_account_form h3 {
  margin-top: 3em;
}

.footer {
  width: 100%;
  background: #eee;
  border-top: 1px solid #ddd;
  padding: 2em 0;
  text-align: center;
  display: inline-block;
}

.footer img {
  margin: .5em 0;
}

.error {
  background: #eee;
  border-radius: 2px;
  border: 1px solid #ddd;
  margin: 3em 3em 0;
  box-sizing: border-box;
  padding: 0 .5em;
}

.error p {
  color: #999;
  font-size: 12px;
}

.login-error {
  background: #ffdddd;
  border-radius: 2px;
  border: 1px solid #ffb8b8;
  box-sizing: border-box;
  text-align: center;
  margin-bottom: 2em;
}

.login-error p {
  color: #ff5959;
  font-size: 12px;
}

.login-error img {
  width: 11px;
  margin: 5px 7px 0 0;
}

input:invalid, textarea:invalid { background-color: #f0dddd; }
.formarea input:invalid, textarea:invalid { border-radius: 1px; -moz-box-shadow: 0px 0px 0px red; -webkit-box-shadow: 0px 0px 0px red; box-shadow: 0px 0px 0px red; }
.formarea label.invalid {border: none; color: red; min-height: inherit; padding: 5px 0 0; margin: 0;}

@media (min-width: 370px) {
  #auth {
    padding: 3em 3em 5em;
  }
  #left_col {
    text-align: center;
  }
}

@media (min-width: 550px) {
  #auth {
    padding: 3em 3em 5em;
  }
  #left_col {
    width: 70%;
    margin: 0 auto;
    padding-bottom: 3em;
    text-align: center;
  }
  #right_col {
    width: 70%;
    margin: 0 auto;
  }
}

@media (min-width: 730px) {
  #auth {
    display: inline-block;
    padding: 3em 3em 5em;
  }
  #left_col {
    float: left;
    text-align: left;
    width: 50%;
    padding-right: 3em;
    box-sizing: border-box;
  }
  #right_col {
    float: left;
    width: 50%;
    margin: 0;
    padding-left: 3em;
    box-sizing: border-box;
  }
}

  </style>
  <meta name="viewport" content="width=device-width,initial-scale=1" >
</head>

<body>
  <div id="content">
    <div id="container">
      <div class="header">
        <div id="icon_cell"></div>
      </div>

      <div id="continue">
        <h1>Welcome to MANSD STUDENT</h1>
        <p>By using this network, you are accepting that you have read and will abide by the MSD Responsible Use of Technology in Schools policy.  Any unauthorized use of this wireless network is strictly prohibited.</p>
        <div id="oauth_buttons"></div>
      </div>
    </div>
    <div class="footer">
      <h3>POWERED BY</h3>
      <img alt="Cisco Meraki" src="/images/cisco-meraki-gray.png?1447100194" width="100" />
    </div>
  </div>
      <script type="text/javascript" charset="utf-8">
        function make_button(json) {
          var link = document.createElement('a');
          link.setAttribute('href', 'javascript:continue_url_from_header(\'' + json.link + '\')');
          var img = document.createElement('img');
          img.setAttribute('src', json.img);
          img.setAttribute('width', '200px');
          link.appendChild(img);
          return link;
        };

        function continue_url_from_header(url) {
          var _request = new XMLHttpRequest();
          _request.open('HEAD', window.location, true);
          _request.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
          _request.onreadystatechange = function() {
            if (_request.readyState === 4) {
              var encrypted_state = _request.getResponseHeader('Continue-Url');
              window.location.href = url.replace('STATE_PLACEHOLDER', encrypted_state);
            }
          }
          _request.send(null);
        }

        function append_to_table(element, table) {
          var row = document.createElement('tr');
          var cell = document.createElement('td');
          cell.appendChild(element);
          row.appendChild(cell);
          table.appendChild(row);
        };

        window.oauth_button_json = [{"link":"https://accounts.google.com/o/oauth2/auth?scope=email%20profile&response_type=code&access_type=offline&client_id=268757299911-1m56qfkt8ii85o3nfkop7k6q0ftjja20.apps.googleusercontent.com&redirect_uri=https://master.meraki.com/public/oauth_callback&state=googleSTATE_PLACEHOLDER","img":"/images/oauth_google_sign_on.png"}];
        var container = document.getElementById('oauth_buttons');
        var table = document.createElement('table');
        table.setAttribute('style', 'margin:auto;');
        container.appendChild(table);
        oauth_button_json.forEach(function(json) {
          var button = make_button(json);
          append_to_table(button, table);
        });
      </script>

      <script type="text/javascript" charset="utf-8">
              function update_form_action_from_headers(form) {
        var _request = new XMLHttpRequest();
        var url = 'https://n46.network-auth.com/MANSD-STUDENT/hi/RVK_2dU/login?continue_url=CONTINUE_URL_PLACEHOLDER';
        _request.open('HEAD', window.location, true);
        _request.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
        _request.onreadystatechange = function() {
          if (_request.readyState === 4) {
            var continue_url = _request.getResponseHeader('Continue-Url');
            form.action = url.replace('CONTINUE_URL_PLACEHOLDER', continue_url);
            form.submit();
          }
        }
        _request.send(null);
        return false;
      }

      </script>

</body>
</html>
